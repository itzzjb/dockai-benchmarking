# DocAI Test Repository

A monorepo containing multiple applications in different languages for testing DocAI Dockerfile generation.

## Repository Structure

```
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ nodejs-api/      # Node.js Express REST API
‚îÇ   ‚îú‚îÄ‚îÄ python-flask/    # Python Flask API (placeholder)
‚îÇ   ‚îú‚îÄ‚îÄ java-spring/     # Java Spring Boot API (placeholder)
‚îÇ   ‚îî‚îÄ‚îÄ go-api/          # Go REST API (placeholder)
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ copilot-instructions.md
‚îî‚îÄ‚îÄ README.md
```

## How It Works

Each directory under `apps/` contains a standalone application with its own:
- Source code
- Dependencies (package.json, requirements.txt, pom.xml, go.mod, etc.)
- Dockerfile (generated by DocAI)

When you make changes to a specific app directory, DocAI should:
1. Detect changes only in that specific path
2. Analyze the application in that directory
3. Generate/update the Dockerfile for that specific app

## Available Applications

| App | Language | Path | Status |
|-----|----------|------|--------|
| Node.js API | JavaScript | `apps/nodejs-api/` | ‚úÖ Ready |
| Python Flask | Python | `apps/python-flask/` | üìù Placeholder |
| Java Spring | Java | `apps/java-spring/` | üìù Placeholder |
| Go API | Go | `apps/go-api/` | üìù Placeholder |

## Usage

### Running Individual Apps

Each app can be run independently. Navigate to the app directory and follow its README:

```bash
# Example: Run Node.js API
cd apps/nodejs-api
npm install
npm run dev
```

### Building Docker Images

Each app has its own Dockerfile. Build images from the app directory:

```bash
# Example: Build Node.js API
cd apps/nodejs-api
docker build -t nodejs-api .
docker run -p 3000:3000 nodejs-api
```

## Adding New Applications

1. Create a new directory under `apps/` with your app name
2. Add your application source code
3. Run DocAI on that specific path to generate a Dockerfile
4. Update this README with the new app details

## DocAI Integration

To test DocAI on a specific app:

```bash
# Run DocAI only on a specific app directory
dockai generate --path apps/nodejs-api/
dockai generate --path apps/python-flask/
```

This ensures DocAI analyzes only the relevant application and generates an appropriate Dockerfile.

## Running the Application

### Development Mode (with auto-reload)

```bash
npm run dev
```

### Production Mode

```bash
npm start
```

The server will start on `http://localhost:3000` by default.

## API Endpoints

### Health Check

| Method | Endpoint       | Description        |
|--------|----------------|--------------------|
| GET    | `/api/health`  | Health check       |

### Users

| Method | Endpoint          | Description        |
|--------|-------------------|--------------------|
| GET    | `/api/users`      | Get all users      |
| GET    | `/api/users/:id`  | Get user by ID     |
| POST   | `/api/users`      | Create new user    |
| PUT    | `/api/users/:id`  | Update user        |
| DELETE | `/api/users/:id`  | Delete user        |

## Example Requests

### Get all users

```bash
curl http://localhost:3000/api/users
```

### Get user by ID

```bash
curl http://localhost:3000/api/users/1
```

### Create a new user

```bash
curl -X POST http://localhost:3000/api/users \
  -H "Content-Type: application/json" \
  -d '{"name": "New User", "email": "newuser@example.com"}'
```

### Update a user

```bash
curl -X PUT http://localhost:3000/api/users/1 \
  -H "Content-Type: application/json" \
  -d '{"name": "Updated Name"}'
```

### Delete a user

```bash
curl -X DELETE http://localhost:3000/api/users/1
```

## Environment Variables

| Variable   | Description              | Default       |
|------------|--------------------------|---------------|
| PORT       | Server port              | 3000          |
| NODE_ENV   | Environment mode         | development   |

## License

ISC
